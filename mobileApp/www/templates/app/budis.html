<ion-view title="Budi List">
    <ion-nav-bar class="bar-positive" animation="no-animation">
        <ion-nav-buttons side ="left">
            <button title="Menu" menu-toggle="left" class="button button-icon icon ion-navicon"></button>
        </ion-nav-buttons>
        <ion-nav-buttons side ="right">
            <button title="More" class="button button-icon icon ion-more" 
                ng-click="onButtonClick('more'); openPopover($event);"></button>
        </ion-nav-buttons>     
        <ion-header-bar ng-show="data.showInput" class="bar-positive bar-subheader">
            <input placeholder="Filter Budi(s)..." ng-model="search" ng-focus="searchFocused = true"
              ng-blur="searchFocused = false" ng-change="scrollTop()">
            <button ng-if="search.length" class="button button-icon ion-android-close input-button"
                ng-click="onButtonClick('search')">
            </button>
        </ion-header-bar>
    </ion-nav-bar>

    <ion-content>    
        <ion-list show-delete="data.showDelete">
          <!-- trocar URL para profile do budi seleccionado -->
            <ion-item ng-repeat="budi in getContacts()" ng-href="#/app/budis/profile"
                      ng-class="{'item-divider': budi.isLetter, 'item-thumbnail-left': !budi.isLetter}" 
                      ng-click="data.showBackButton = !data.showBackButton;" class="item">
                
                <img ng-if="!budi.isLetter" ng-src="{{ budi.picture }}">
                <p ng-if="!budi.isLetter">
                <h2>{{ budi.letter || budi.first_name + ' ' + budi.last_name }}</h2>
                <p ng-if="!budi.isLetter">
                <h3>{{ budi.location }}</h3>
                <ion-delete-button ng-if="!budi.isLetter" class="ion-minus-circled" ng-click="onBudiDelete(budi)"> </ion-delete-button>
            </ion-item>
        </ion-list>
    </ion-content>
</ion-view>